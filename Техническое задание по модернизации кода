# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞

## –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–ú–æ–¥–µ—Ä–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML-—Å–∞–π—Ç–æ–≤, 

1 –°–µ—Ä–≤–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ NodeJS
https://drive.google.com/file/d/1tj-94u9p8XVKvaViif7oAxCBITykxkXX/view?usp=sharing

2 –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç NodeJS
https://drive.google.com/file/d/1GRIW4xeBdxNsWEHJqGgJULBvAMHc6tDg/view?usp=sharing


–∑–∞–º–µ–Ω–∏–≤ –ª–æ–≥–∏–∫—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ LLM Replicate API. –¢–∞–∫–∂–µ –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∏–ª—è—Ö –∏ —É—á–µ—Å—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–æ–º.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞](#–∞–Ω–∞–ª–∏–∑-—Ç–µ–∫—É—â–µ–≥–æ-–∫–æ–¥–∞)
2. [–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è](#—Ñ—É–Ω–∫—Ü–∏–∏-–¥–ª—è-—É–¥–∞–ª–µ–Ω–∏—è)
3. [–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è](#–Ω–æ–≤—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏-–¥–ª—è-–¥–æ–±–∞–≤–ª–µ–Ω–∏—è)
4. [–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è](#—Ñ—É–Ω–∫—Ü–∏–∏-–¥–ª—è-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
5. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–æ–º](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-—Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–æ–º)
6. [–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#–¥–µ—Ç–∞–ª–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
7. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

## –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞

–¢–µ–∫—É—â–∏–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–æ–≤:
1. –°–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞
2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —á–µ—Ä–µ–∑ OpenAI API
3. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ HTML-—à–∞–±–ª–æ–Ω–æ–≤ –∏–∑ –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö —á–∞—Å—Ç–µ–π (sections)
4. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
5. –°–æ–∑–¥–∞–Ω–∏–µ ZIP-–∞—Ä—Ö–∏–≤–∞ —Å –≥–æ—Ç–æ–≤—ã–º —Å–∞–π—Ç–æ–º

## –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

–§—É–Ω–∫—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–æ —Å—Ç–∞—Ä–æ–π –ª–æ–≥–∏–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤, –ø–æ–¥–ª–µ–∂–∞—Ç —É–¥–∞–ª–µ–Ω–∏—é:
- `buildHtmlTemplate`, `buildHtmlTemplatServices`, `buildHtmlTemplatAbout` –∏ —Ç.–¥.
- `getRandomSection` –∏ –¥—Ä—É–≥–∏–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —à–∞–±–ª–æ–Ω–∞–º–∏

## –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

### 1. `generateSiteWithLLM(siteConfig)`

–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM:

```javascript
async function generateSiteWithLLM(siteConfig) {
  // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∞–π—Ç–∞
  const { track_id, site_type, site_theme, site_language, contact_country, 
          key_words, site_style, domain_name, special_features } = siteConfig;
  
  // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∏–ª—è —Å–∞–π—Ç–∞ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
  const prompt = createPromptByStyle(site_style, siteConfig);
  
  // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ Replicate API
  const siteContent = await replicateLLMRequest(prompt);
  
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∞–π—Ç–∞
  return processLLMResponse(siteContent, siteConfig);
}
```

### 2. `createPromptByStyle(style, siteConfig)`

–§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è —Å–∞–π—Ç–∞, —Å —É—á–µ—Ç–æ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

```javascript
function createPromptByStyle(style, siteConfig) {
  const { 
    site_theme, 
    site_language, 
    contact_country, 
    key_words, 
    domain_name, 
    special_features, 
    humanization_level,
    image_style,
    manual_content
  } = siteConfig;
  
  // –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –ø—Ä–æ–º–ø—Ç–∞
  let basePrompt = `Generate a complete HTML website for a ${site_theme} business in ${site_language} language.`;
  
  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  if (manual_content) {
    basePrompt += ` Specific content requirements: ${manual_content}`;
  }
  
  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø–æ –∫–ª—é—á–µ–≤—ã–º –∏ —Å—Ç–æ–ø-—Å–ª–æ–≤–∞–º
  if (key_words) {
    basePrompt += ` Incorporate the following keywords for SEO purposes: ${key_words}. Make sure they are used naturally in the content.`;
  }
  
  if (siteConfig.stop_words) {
    basePrompt += ` Avoid using these words or phrases: ${siteConfig.stop_words}.`;
  }
  
  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø–æ –≥—É–º–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  if (humanization_level === 'high') {
    basePrompt += ` Generate highly humanized content that would pass AI detection tools. Use varied sentence structures, occasional colloquialisms, and natural language patterns. Avoid repetitive phrases and perfect grammar.`;
  }
  
  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
  if (special_features && special_features.includes('registration_form')) {
    basePrompt += ` Include a user-friendly registration form with minimal required fields and quick sign-up process.`;
  }
  
  if (special_features && special_features.includes('calculator')) {
    basePrompt += ` Include an interactive calculator relevant to the ${site_theme} business.`;
  }
  
  // –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Å—Ç–∏–ª—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  if (image_style === 'simple') {
    basePrompt += ` Use simple, clean images in the design.`;
  } else if (image_style === 'design_elements') {
    basePrompt += ` Use design elements, icons, and graphics instead of photographs to avoid AI detection.`;
  }
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–æ–º–ø—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∏–ª—è
  switch(style) {
    case 'minimalist':
      return `${basePrompt} Use a minimalist design with clean lines, ample white space, and subtle typography. Focus on essential content only. Include a simple navigation, hero section, about section, services, testimonials, and contact form.`;
    
    case 'corporate':
      return `${basePrompt} Create a professional corporate style with a structured layout, blue color palette, and formal typography. Include a navbar, hero section with slider, about us section, services, team profiles, client logos, testimonials, and contact section.`;
    
    case 'creative':
      return `${basePrompt} Design a creative and vibrant website with bold colors, unique typography, and interactive elements. Include an animated hero section, creative services presentation, portfolio gallery, blog section, and innovative contact form.`;
    
    case 'gaming':
      return `${basePrompt} Create a dynamic gaming website with dark theme, vibrant accent colors, gaming-inspired graphics, and interactive elements. Include game showcase sections, leaderboards, user profiles, and gaming community features. Avoid mentioning real money gambling or earnings.`;
    
    case 'ecommerce':
      return `${basePrompt} Develop an e-commerce focused layout with product showcases, featured items section, categories navigation, shopping cart integration, product detail pages, and secure checkout process.`;
    
    default:
      return `${basePrompt} Create a balanced design with standard sections including navigation, hero area, features, about us, services, testimonials, and contact form. Make it responsive and user-friendly.`;
  }
}
```

### 3. `replicateLLMRequest(prompt)`

–§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫ Replicate API:

```javascript
async function replicateLLMRequest(prompt) {
  try {
    const response = await fetch('https://api.replicate.com/v1/models/anthropic/claude-3.7-sonnet/predictions', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${process.env.REPLICATE_API_TOKEN}`,
        'Content-Type': 'application/json',
        'Prefer': 'wait'
      },
      body: JSON.stringify({
        input: {
          prompt,
          max_tokens: 8192,
          system_prompt: `You are an expert web developer and designer who creates complete HTML websites. 
          Return HTML code for a complete website with multiple pages organized in separate sections.
          For each page, start with a comment <!-- PAGE: page_name.html --> and end with <!-- END PAGE -->.
          Include CSS in a <style> tag in the head section.
          Make sure the site is responsive and works well on mobile devices.
          Include all necessary pages: home, about, services, contact, and any additional pages requested.
          If registration form or calculator is requested, provide functional HTML/CSS/JS implementation.
          Make sure all links between pages work correctly.
          Ensure content feels human-written and varied in structure to avoid AI detection.`
        }
      })
    });
    
    if (!response.ok) {
      throw new Error(`API request failed with status ${response.status}`);
    }
    
    const data = await response.json();
    return data.output;
  } catch (error) {
    console.error('Error in Replicate API request:', error);
    throw error;
  }
}
```

### 4. `processLLMResponse(llmResponse, siteConfig)`

–§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–∞ LLM –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∞–π—Ç–∞:

```javascript
async function processLLMResponse(llmResponse, siteConfig) {
  const { track_id, file_extension } = siteConfig;
  
  try {
    // –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ HTML –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    const pages = extractPagesFromResponse(llmResponse);
    
    // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è —Å–∞–π—Ç–∞ (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É)
    const imageUrls = await prepareImagesForSite(siteConfig);
    
    // –°–æ–∑–¥–∞–Ω–∏–µ ZIP-–∞—Ä—Ö–∏–≤–∞ —Å —Å–∞–π—Ç–æ–º
    const zipPath = await createSiteZipArchive(pages, imageUrls, track_id, file_extension);
    
    return {
      status: 'success',
      zipPath,
      message: 'Site generated successfully'
    };
  } catch (error) {
    console.error('Error processing LLM response:', error);
    return {
      status: 'error',
      message: error.message
    };
  }
}
```

### 5. `extractPagesFromResponse(llmResponse)`

–§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∏–∑ –æ—Ç–≤–µ—Ç–∞ LLM:

```javascript
function extractPagesFromResponse(llmResponse) {
  // –ï—Å–ª–∏ LLM –≤–µ—Ä–Ω—É–ª —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ HTML
  const pageRegex = /<!-- PAGE: (.+?) -->([\s\S]*?)(?=<!-- END PAGE -->|<!-- PAGE:|$)/g;
  let match;
  const pages = {};
  
  while ((match = pageRegex.exec(llmResponse)) !== null) {
    const pageName = match[1];
    const pageContent = match[2].trim();
    pages[pageName] = pageContent;
  }
  
  // –ï—Å–ª–∏ LLM –≤–µ—Ä–Ω—É–ª —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –Ω–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π
  if (Object.keys(pages).length === 0) {
    pages['index.html'] = llmResponse;
  }
  
  return pages;
}
```

## –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. `processSitesFromSQS`

–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:

```javascript
async function processSitesFromSQS(webhook, track_id, site_type, site_theme, site_language, contact_country, file_extension, site_count, rename_index, edit_after_generation, key_words, stop_words, domain_name, site_style, special_features, humanization_level, image_style, manual_content) {
  try {
    sendToClientWithUserId(track_id, '–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –í–∞–π—Ç–ø–µ–π–¥–∂...');
    
    // –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–∞
    const siteConfig = {
      track_id,
      site_type,
      site_theme,
      site_language,
      contact_country,
      file_extension,
      rename_index,
      key_words,
      stop_words,
      domain_name,
      site_style: site_style || 'default',
      special_features: special_features || [],
      humanization_level: humanization_level || 'medium',
      image_style: image_style || 'balanced',
      manual_content: manual_content || ''
    };
    
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–π—Ç–∞ —Å –ø–æ–º–æ—â—å—é LLM
    const result = await generateSiteWithLLM(siteConfig);
    
    if (result.status === 'error') {
      throw new Error(result.message);
    }
    
    // –ó–∞–≥—Ä—É–∑–∫–∞ ZIP-—Ñ–∞–π–ª–∞ –≤ S3
    const s3BucketName = process.env.AWS_S3_BUCKET_NAME;
    const randomNumber = generateRandom15DigitNumber();
    const s3Key = `${track_id}_${randomNumber}.zip`;
    
    const s3Url = await uploadToS3(result.zipPath, s3BucketName, s3Key);
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
    const webhookUrl = `https://aisitegen.onrender.com/api/v1/generatorTelegram/webhook/?user_id=${encodeURIComponent(track_id)}`;
    await sendToWebhook(webhookUrl, { track_id, s3Url, webhookUrl, status: 'succeeded' });
    
    sendToClientWithUserId(track_id, '‚úÖ –í–∞–π—Ç–ø–µ–π–¥–∂ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Å–∫–∞—á–∏–≤–∞–Ω–∏—é');
    
  } catch (error) {
    console.error('Error processing site:', error);
    sendToClientWithUserId(track_id, { status: 'processing_failed' });
  }
}
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–æ–º

–î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —à–∞–≥–∏ –≤ –¥–∏–∞–ª–æ–≥ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:

1. **–í—ã–±–æ—Ä —Å—Ç–∏–ª—è —Å–∞–π—Ç–∞** - –¥–æ–±–∞–≤–∏—Ç—å –º–µ–Ω—é —Å –≤—ã–±–æ—Ä–æ–º —Å—Ç–∏–ª—è —Å–∞–π—Ç–∞:
   - –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π
   - –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π
   - –ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π
   - –ò–≥—Ä–æ–≤–æ–π
   - –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –∫–æ–º–º–µ—Ä—Ü–∏—è
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π

2. **–í—ã–±–æ—Ä —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π** - –¥–æ–±–∞–≤–∏—Ç—å —á–µ–∫–±–æ–∫—Å—ã –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:
   - –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
   - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
   - –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

3. **–£—Ä–æ–≤–µ–Ω—å –≥—É–º–∞–Ω–∏–∑–∞—Ü–∏–∏** - –¥–æ–±–∞–≤–∏—Ç—å –≤—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è –≥—É–º–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞:
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π
   - –í—ã—Å–æ–∫–∏–π (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–µ–ª–æ–≤–µ–∫–æ–ø–æ–¥–æ–±–Ω—ã–π)

4. **–°—Ç–∏–ª—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –¥–æ–±–∞–≤–∏—Ç—å –≤—ã–±–æ—Ä —Å—Ç–∏–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
   - –ü—Ä–æ—Å—Ç—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
   - –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –∏–∫–æ–Ω–∫–∏
   - –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥

5. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è** - –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —Å–∞–π—Ç—É:
   - –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –ø–æ–∂–µ–ª–∞–Ω–∏–π

## –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã**:
   - –ë–æ–ª–µ–µ –≥–∏–±–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∞–π—Ç–æ–≤ –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –±–ª–æ–∫–∞–º
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –∏ —Ñ—É–Ω–∫—Ü–∏–π
   - –õ—É—á—à–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã)

2. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API Replicate –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML –∏–∑ —à–∞–±–ª–æ–Ω–æ–≤
   - –ë–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è LLM
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ª–æ–≥–∏–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ S3 –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**:
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –ª–æ–≥–∏–∫–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Unsplash/Pexels
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Å—Ç—ã—Ö –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–º–µ—Å—Ç–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∫–∞–∂–¥–æ–≥–æ —Å—Ç–∏–ª—è —Å–∞–π—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (—Ñ–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–æ–º
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤ –≤ S3
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

3. **–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
   - –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞

–≠—Ç–æ –¥–æ–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑—á–∏–∫–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–ª–∞–Ω –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º API Replicate –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–æ–º.




## –¶–µ–ª—å
–ú–æ–¥–µ—Ä–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML-—Å–∞–π—Ç–æ–≤, –∑–∞–º–µ–Ω–∏–≤ –ª–æ–≥–∏–∫—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤ –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ LLM Replicate API –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∏–ª—è—Ö.

## –ó–∞–¥–∞—á–∏

### 1. –£–¥–∞–ª–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–µ–π –ª–æ–≥–∏–∫–∏
- –£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —Ç–µ–∫—Å—Ç–æ–≤ —à–∞–±–ª–æ–Ω–æ–≤ –∏ –∏—Ö –≤—Å—Ç–∞–≤–∫–æ–π –≤ HTML
- –£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–µ —à–∞–±–ª–æ–Ω—ã –∏ —Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–µ HTML –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
- –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ LLM Replicate API
- –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∏–ª—è —Å–∞–π—Ç–∞
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É

### 3. –ú–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏—è Telegram-–±–æ—Ç–∞
- –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ—Ç–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ —Å—Ç–∏–ª—è —Å–∞–π—Ç–∞
- –†–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∏–∑–∞–π–Ω–∞

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
```
buildHtmlTemplate, buildHtmlTemplatServices, buildHtmlTemplatAbout, 
buildHtmlTemplateProduct, buildPhpTemplate, buildPhpTemplateServices, 
buildHtmlTemplateThankyou, buildHtmlTemplateThankyouPHP, 
buildHtmlTemplatePolicy, buildHtmlTemplatePolicyPHP,
buildHtmlTemplateBlog, buildHtmlTemplateBlog2, buildHtmlTemplateBlog3,
buildPHPTemplateBlog, buildPHPTemplateBlog2, buildPHPTemplateBlog3,
getRandomSection
```

### –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

const 

#### 1. `generateTextWithLLM(promptConfig)`
```javascript
async function generateTextWithLLM(promptConfig) {
  const { prompt, systemPrompt } = promptConfig;
  
  try {
    const response = await fetch('https://api.replicate.com/v1/models/anthropic/claude-3.7-sonnet/predictions', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${process.env.REPLICATE_API_TOKEN}`,
        'Content-Type': 'application/json',
        'Prefer': 'wait'
      },
      body: JSON.stringify({
        input: {
          prompt,
          max_tokens: 8192,
          system_prompt: systemPrompt || "",
          max_image_resolution: 0.5
        }
      })
    });
    
    if (!response.ok) {
      throw new Error(`API request failed with status ${response.status}`);
    }
    
    const data = await response.json();
    return data.output;
  } catch (error) {
    console.error('Error in Replicate API request:', error);
    throw error;
  }
}
```

#### 2. `generatePromptsForHTMLGeneration(style, siteConfig)`
```javascript
function generatePromptsForHTMLGeneration(style, siteConfig) {
  const { site_theme, site_language, contact_country, key_words, domain_name } = siteConfig;
  
  const basePrompt = `
Generate a complete website for a ${site_theme} business in ${site_language} language.
The website should include the following pages:
- Home page with hero section, features, about us, services, products, testimonials, and contact form
- About Us page with company history and mission
- Services page with detailed service descriptions
- Product page showcasing main products
- Contact page with address in ${contact_country} and contact form
- Privacy Policy page
- Three blog posts related to the business theme

Keywords for SEO: ${key_words}
`;

  const styles = {
    minimalist: `
${basePrompt}
Design style: Minimalist
Use a clean, minimal design with ample white space, subtle animations, and focus on typography.
Color scheme: Monochromatic with one accent color
Typography: Sans-serif fonts, clear hierarchy
Layout: Simple grid, lots of white space, clear sections
Design elements: Minimal icons, subtle borders, clean forms
`,
    corporate: `
${basePrompt}
Design style: Corporate Professional
Create a professional business appearance with structured layout and formal elements.
Color scheme: Blue and gray palette with accent colors
Typography: Professional serif and sans-serif combination
Layout: Structured grid, clear business sections, organized information hierarchy
Design elements: Charts, graphs, business icons, formal buttons
`,
    creative: `
${basePrompt}
Design style: Creative and Bold
Design a vibrant and eye-catching website with creative elements and bold interactions.
Color scheme: Vibrant complementary colors
Typography: Creative mix of fonts, playful headings
Layout: Asymmetric layout, creative section breaks, dynamic scrolling
Design elements: Bold graphics, animated elements, creative forms, unique navigation
`,
    ecommerce: `
${basePrompt}
Design style: E-commerce Focused
Develop a shopping-oriented website with product showcases and clear call-to-actions.
Color scheme: Conversion-focused with clear CTAs
Typography: Clean, readable fonts optimized for product descriptions
Layout: Product grid, featured items carousel, category navigation
Design elements: Product cards, rating systems, add-to-cart buttons, checkout elements
`,
    gaming: `
${basePrompt}
Design style: Gaming Portal
Create an immersive gaming-themed website with interactive elements and game-like features.
Color scheme: Dark theme with vibrant neon accents
Typography: Futuristic/game-inspired fonts for headings, readable sans-serif for content
Layout: Immersive sections, game-like navigation, achievement highlights
Design elements: Progress bars, badges, game-inspired buttons, leaderboard-style tables

Include a user registration form and interactive elements like calculators or mini-games.
Avoid mentioning real money earnings or gambling elements.
`,
    luxury: `
${basePrompt}
Design style: Luxury and Premium
Design an elegant and sophisticated website that conveys exclusivity and high-end quality.
Color scheme: Black, gold, and neutral tones
Typography: Elegant serif fonts, refined spacing
Layout: Spacious layout with large imagery, sophisticated animations
Design elements: High-quality product images, subtle animations, elegant forms
`,
    news: `
${basePrompt}
Design style: News/Magazine
Create a content-focused website with clear article layouts and effective content categorization.
Color scheme: Clear readable scheme with category color coding
Typography: News-style headlines, readable body text
Layout: Article grids, featured story sections, sidebar elements
Design elements: Article cards, reading time indicators, share buttons, subscription forms
`
  };
  
  return styles[style] || styles.minimalist;
}
```

#### 3. `processLLMResponse(llmResponse, siteConfig)`
```javascript
async function processLLMResponse(llmResponse, siteConfig) {
  const { track_id, file_extension } = siteConfig;
  
  try {
    // –†–∞–∑–¥–µ–ª–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–π HTML –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    const pages = extractPagesFromResponse(llmResponse);
    
    // –ü–æ–ª—É—á–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Å–∞–π—Ç–∞
    const imageUrls = await prepareImagesForSite(siteConfig);
    
    // –°–æ–∑–¥–∞—Ç—å ZIP-–∞—Ä—Ö–∏–≤ —Å —Å–∞–π—Ç–æ–º
    const zipPath = await createSiteZipArchive(pages, imageUrls, track_id, file_extension);
    
    return {
      status: 'success',
      zipPath,
      message: 'Site generated successfully'
    };
  } catch (error) {
    console.error('Error processing LLM response:', error);
    return {
      status: 'error',
      message: error.message
    };
  }
}
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

#### `processSitesFromSQS` (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
```javascript
async function processSitesFromSQS(webhook, track_id, site_type, site_theme, site_language, contact_country, file_extension, site_count, rename_index, edit_after_generation, key_words, stop_words, domain_name, site_style = 'minimalist') {
  try {
    sendToClientWithUserId(track_id, '–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –í–∞–π—Ç–ø–µ–π–¥–∂...');
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
    if (!key_words || key_words === '') {
      const stop_words_directive = stop_words ? 
        `Do not use any of "stop words": ${stop_words}` : 
        `Do not use any harmful, illegal, unethical, or violent content`;
      
      const keywordsResponse = await jsonResponseMainKeyWords(site_theme, stop_words_directive);
      key_words = keywordsResponse.key_words;
    }
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–º–µ–Ω–∞
    let brandName = '';
    if (domain_name && domain_name.trim() !== '') {
      let processedDomainName = domain_name.trim();
      if (processedDomainName.startsWith('www.')) {
        processedDomainName = processedDomainName.substring(4);
      }
      const domainParts = processedDomainName.split('.');
      if (domainParts.length > 0 && domainParts[0] !== '') {
        brandName = domainParts[0];
      }
    }
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–∞
    const siteConfig = {
      track_id,
      site_type,
      site_theme,
      site_language,
      contact_country,
      file_extension,
      rename_index,
      key_words,
      stop_words,
      domain_name: brandName,
      site_style
    };
    
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è LLM
    const prompt = generatePromptsForHTMLGeneration(site_style, siteConfig);
    
    // –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è LLM
    const systemPrompt = `
You are an expert web developer and designer specializing in ${site_style} websites.
Create a complete website in HTML and CSS (embedded in <style> tags).
The HTML should be valid, responsive, and follow modern web standards.
Structure your response to clearly separate different pages with comments like:
<!-- PAGE: index.html -->
<!-- PAGE: about.html -->
<!-- PAGE: services.html -->
etc.

Pay special attention to:
1. Creating human-like content that doesn't appear AI-generated
2. Incorporating the keywords naturally for SEO
3. Making the design responsive for all devices
4. Ensuring all links between pages work correctly
5. Including appropriate images placeholders with descriptive alt text
`;
    
    sendToClientWithUserId(track_id, 'üñãÔ∏è –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç —Å–∞–π—Ç–∞ —á–µ—Ä–µ–∑ AI...');
    
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML —á–µ—Ä–µ–∑ LLM
    const llmResponse = await generateTextWithLLM({
      prompt,
      systemPrompt
    });
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞ LLM –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∞–π—Ç–∞
    const result = await processLLMResponse(llmResponse, siteConfig);
    
    if (result.status === 'error') {
      throw new Error(result.message);
    }
    
    // –ó–∞–≥—Ä—É–∑–∫–∞ ZIP-—Ñ–∞–π–ª–∞ –≤ S3
    const s3BucketName = process.env.AWS_S3_BUCKET_NAME;
    const randomNumber = generateRandom15DigitNumber();
    const s3Key = `${track_id}_${randomNumber}.zip`;
    
    sendToClientWithUserId(track_id, 'üì§ –ó–∞–≥—Ä—É–∂–∞–µ–º –≥–æ—Ç–æ–≤—ã–π —Å–∞–π—Ç...');
    const s3Url = await uploadToS3(result.zipPath, s3BucketName, s3Key);
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    const webhookUrl = `https://aisitegen.onrender.com/api/v1/generatorTelegram/webhook/?user_id=${encodeURIComponent(track_id)}`;
    await sendToWebhook(webhookUrl, { track_id, s3Url, webhookUrl, status: 'succeeded' });
    
    sendToClientWithUserId(track_id, '‚úÖ –í–∞–π—Ç–ø–µ–π–¥–∂ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!');
    
  } catch (error) {
    console.error('Error processing site:', error);
    sendToClientWithUserId(track_id, { status: 'processing_failed', message: error.message });
  }
}
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram-–±–æ—Ç–æ–º

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ —Å—Ç–∏–ª—è —Å–∞–π—Ç–∞
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —à–∞–≥–∞ –≤—ã–±–æ—Ä–∞ —Å—Ç–∏–ª—è —Å–∞–π—Ç–∞:

```javascript
// –ü—Ä–∏–º–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å—Ç–∏–ª—è —Å–∞–π—Ç–∞
bot.action(/style_(.+)/, async (ctx) => {
  const style = ctx.match[1];
  ctx.session.site_style = style;
  
  await ctx.editMessageText(
    `–í—ã–±—Ä–∞–Ω —Å—Ç–∏–ª—å —Å–∞–π—Ç–∞: ${getStyleNameRu(style)}\n\n–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤:`,
    {
      parse_mode: 'HTML',
      reply_markup: {
        inline_keyboard: [
          [{ text: 'HTML', callback_data: 'format_html' }, { text: 'PHP', callback_data: 'format_php' }]
        ]
      }
    }
  );
});

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–∏–ª—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
function getStyleNameRu(style) {
  const styles = {
    minimalist: '–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π',
    corporate: '–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π',
    creative: '–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π',
    ecommerce: '–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω',
    gaming: '–ò–≥—Ä–æ–≤–æ–π',
    luxury: '–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π',
    news: '–ù–æ–≤–æ—Å—Ç–Ω–æ–π'
  };
  
  return styles[style] || '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π';
}
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é

1. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ**:
   - –°–Ω–∞—á–∞–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Replicate API
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–∏–ª—è—Ö
   - –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤**:
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ —É–ª—É—á—à–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç–∏–ª–µ–π
   - –°–æ–±–∏—Ä–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –∫–∞—á–µ—Å—Ç–≤–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**:
   - –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ–º–ø—Ç–æ–≤
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Replicate API

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∞–π—Ç–æ–≤. –û—Å–Ω–æ–≤–Ω–æ–π –∞–∫—Ü–µ–Ω—Ç —Å–¥–µ–ª–∞–Ω –Ω–∞ –∑–∞–º–µ–Ω–µ —Å—Ç–∞—Ä–æ–π –ª–æ–≥–∏–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ LLM —á–µ—Ä–µ–∑ Replicate API, –∞ —Ç–∞–∫–∂–µ –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—ã–±–æ—Ä–∞ —Å—Ç–∏–ª—è —Å–∞–π—Ç–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Telegram-–±–æ—Ç–∞.

–í–Ω–µ–¥—Ä–µ–Ω–∏–µ —ç—Ç–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–∑–≤–æ–ª–∏—Ç:
1. –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö —Å–∞–π—Ç–æ–≤
2. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –¥–∏–∑–∞–π–Ω–æ–º —Å–∞–π—Ç–∞
3. –°–¥–µ–ª–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–µ—Ç–∞–ª–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
